// File: RecipientHintsDB.java - last edit:// Yoshiki Shibata 27-Dec-03// Copyright (c) 1996, 1998, 2000, 2003 by Yoshiki Shibata. All rights reserved.package msgtool.db;import java.util.Observable;import java.util.Properties;import msgtool.util.FileUtil;import msgtool.util.StringUtil;public final class RecipientHintsDB extends Observable {    static String kRecipientFile   = "MessagingTool.hint1";    private Properties fRecipientHintsDB = null;        static private RecipientHintsDB fInstance = new RecipientHintsDB();     static public RecipientHintsDB getInstance() { return(fInstance); }     private RecipientHintsDB() {        fRecipientHintsDB         = new Properties();        FileUtil.loadProperties(kRecipientFile, fRecipientHintsDB);	}    public synchronized void save() {        FileUtil.saveProperties(kRecipientFile, fRecipientHintsDB,            " Recipient hints for Java MessagingTool by Y.Shibata");        //        // Notify to all observers        //        setChanged();        notifyObservers();	}    public synchronized void clearRecipientHints() {        fRecipientHintsDB.clear();	}    public synchronized String[] getHintsOfRecipients() {        return StringUtil.getPropertyNames(fRecipientHintsDB);	}    public void addRecipientHint(String hintKey) {        fRecipientHintsDB.setProperty(StringUtil.space2UnderScore(hintKey), "");	}        public void addRecipientHint(String hintKey, String expandedHint) {        fRecipientHintsDB.setProperty(StringUtil.space2UnderScore(hintKey),                               StringUtil.space2UnderScore(expandedHint));	}        public String getExpandedHint(String hintKey) {        return StringUtil.underScore2Space(                    fRecipientHintsDB.getProperty(                                    StringUtil.space2UnderScore(hintKey)));	}       public String getExpandedRecipients(String hintKey) {        String  expandedHint = fRecipientHintsDB.getProperty(                                    StringUtil.space2UnderScore(hintKey));                if (expandedHint == null)            return hintKey;        else if(expandedHint.length() == 0)            return hintKey;        else            return StringUtil.underScore2Space(expandedHint);	}    public Properties getDB() {        return fRecipientHintsDB;	}}    // LOG// 31-Aug-96    Y.Shibata   created// 1.94 :  5-Jul-98 Y.Shibata   modified to use msgtool.util.FileUtil// 1.95 : 12-Jul-98 Y.Shibata   moved to msgtool.db// 2.40 :  4-Jan-00	Y.Shibata	changed names of methods to lower-case.// 3.50 : 27-Dec-03 Y.Shibata   replaced Properties.put calls with Properties.setProperty